<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Tutorial Ubuntu Server SMK - SSH, DNS, Apache, Zabbix</title>

  <!-- Favicon -->
  <link rel="icon" href="favicon.png">
  <link rel="shortcut icon" href="favicon.png">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
  body {
    font-family: Arial, Helvetica, sans-serif;
    background: linear-gradient(135deg, #020617, #020617, #0f172a);
    color: #e5e7eb;
    margin: 0;
    padding: 0;
    line-height: 1.8;
  }

  .container {
    max-width: 920px;
    margin: auto;
    padding: 40px 30px;
  }

  /* Judul utama */
  h1 {
    font-size: 2.6em;
    background: linear-gradient(90deg, #fb923c, #f97316, #facc15);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 15px;
  }

  /* Judul section */
  h2 {
    margin-top: 60px;
    font-size: 2em;
    background: linear-gradient(90deg, #f97316, #fb923c);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    border-bottom: 2px solid #1e293b;
    padding-bottom: 10px;
  }

  /* Subjudul */
  h3 {
    margin-top: 30px;
    font-size: 1.35em;
    background: linear-gradient(90deg, #facc15, #fb923c);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  p {
    color: #cbd5f5;
    font-size: 16px;
  }

  /* Code block */
  code, pre {
    background: linear-gradient(135deg, #020617, #020617);
    color: #e5e7eb;
    padding: 15px;
    border-radius: 10px;
    display: block;
    overflow-x: auto;
    border: 1px solid #1e293b;
    margin-top: 12px;
    box-shadow: inset 0 0 0 1px rgba(249,115,22,0.15);
  }

  /* Note box */
  .note {
    background: linear-gradient(135deg, #020617, #0f172a);
    border-left: 5px solid #f97316;
    padding: 18px;
    margin: 25px 0;
    border-radius: 10px;
  }

  /* Warning box */
  .warn {
    background: linear-gradient(135deg, #020617, #0f172a);
    border-left: 5px solid #facc15;
    padding: 18px;
    margin: 25px 0;
    border-radius: 10px;
  }

  footer {
    text-align: center;
    margin-top: 90px;
    color: #94a3b8;
    font-size: 14px;
  }
</style>
</head>

<body>
<div class="container">

<h1>Tutorial Ubuntu Server Paket 1</h1>

<div class="note">
<b>Spesifikasi Server:</b><br>
IP Server: <b>192.168.30.10</b><br>
OS: Ubuntu Server 24.04<br>
Akses: VirtualBox / SSH
</div>

<!-- ====================== BAGIAN 1 ====================== -->
<h2>1. Penginstalan SSH</h2>

<p>
SSH digunakan agar kita bisa mengontrol server dari Windows tanpa harus membuka VirtualBox.
</p>

<h3>Install SSH</h3>
<pre><code>sudo apt update
sudo apt install ssh -y</code></pre>

<h3>Cek Status SSH</h3>
<pre><code>systemctl status ssh</code></pre>

<p>Pastikan muncul:</p>
<pre><code>active (running)</code></pre>

<h3>Login dari Windows</h3>
<p>Buka <b>Command Prompt (CMD)</b> di Windows, lalu ketik:</p>
<pre><code>ssh username@192.168.30.10</code></pre>

<div class="note">
Jika muncul pertanyaan <b>password</b>, masukkan <u>password Ubuntu Server</u>,  
bukan password database.
</div>

<!-- ====================== BAGIAN 2 ====================== -->
<h2>2. DNS Server (BIND9)</h2>

<p>
DNS berfungsi menerjemahkan nama domain menjadi IP.
Di sini kita akan menggunakan domain lokal:
</p>

<pre><code>lab-smk.xyz</code></pre>

<h3>Install BIND9</h3>
<pre><code>sudo apt install bind9 -y</code></pre>

<h3>Konfigurasi Zone</h3>
<pre><code>sudo nano /etc/bind/named.conf.local</code></pre>

Tambahkan:
<pre><code>zone "lab-smk.xyz" {
    type master;
    file "/etc/bind/db.lab-smk";
};</code></pre>

<h3>Buat File Zone</h3>
<pre><code>sudo cp /etc/bind/db.local /etc/bind/db.lab-smk
sudo nano /etc/bind/db.lab-smk</code></pre>

Isi:
<pre><code>$TTL 300
@   IN  SOA lab-smk.xyz. root.lab-smk.xyz. (
        2026012201
        3600
        900
        604800
        300 )

@       IN  NS  ns.lab-smk.xyz.
@       IN  A   192.168.30.10
ns      IN  A   192.168.30.10
www     IN  A   192.168.30.10
monitor IN  A   192.168.30.10</code></pre>

<h3>Restart DNS</h3>
<pre><code>sudo systemctl restart bind9</code></pre>

<h3>Pengetesan (Windows)</h3>
<p>Atur DNS Windows ke <b>192.168.30.10</b>, lalu:</p>
<pre><code>ping lab-smk.xyz
ping www.lab-smk.xyz
ping monitor.lab-smk.xyz</code></pre>

<!-- ====================== BAGIAN 3 ====================== -->
<h2>3. Web Server Apache2</h2>

<h3>Install Apache</h3>
<pre><code>sudo apt install apache2 -y</code></pre>

<h3>Edit Halaman Web</h3>
<pre><code>sudo nano /var/www/html/index.html</code></pre>

Isi singkat:
<pre><code>&lt;h1&gt;Web Server Ubuntu SMK&lt;/h1&gt;
&lt;p&gt;Apache2 berhasil dijalankan&lt;/p&gt;</code></pre>

<h3>Test di Browser</h3>
<p>Buka di Windows:</p>
<pre><code>http://lab-smk.xyz</code></pre>

<!-- ====================== BAGIAN 4 ====================== -->
<h2>4. Zabbix Server (Versi Aman & Pasti Jalan)</h2>

<div class="warn">
Bagian ini memakai <b>cara manual schema database</b> karena pada beberapa sistem
folder sql bawaan Zabbix <b>tidak tersedia</b>.
</div>

<h3>Update Sistem</h3>
<pre><code>sudo apt update && sudo apt upgrade -y</code></pre>

<h3>Install MariaDB</h3>
<pre><code>sudo apt install mariadb-server -y</code></pre>

<h3>Secure MariaDB</h3>
<pre><code>sudo mysql_secure_installation</code></pre>

Gunakan jawaban:
<pre><code>Switch to unix_socket authentication â†’ Y
Set root password â†’ N
Remove anonymous users â†’ Y
Disallow root login remotely â†’ Y
Remove test database â†’ Y
Reload privilege tables â†’ Y</code></pre>

<h3>Buat Database Zabbix</h3>
<pre><code>sudo mysql</code></pre>

<pre><code>CREATE DATABASE zabbix CHARACTER SET utf8mb4 COLLATE utf8mb4_bin;
CREATE USER 'zabbix'@'localhost' IDENTIFIED BY '1';
GRANT ALL PRIVILEGES ON zabbix.* TO 'zabbix'@'localhost';
FLUSH PRIVILEGES;
EXIT;</code></pre>

<div class="note">
Password database adalah <b>1</b>.  
Jangan memasukkan password Ubuntu saat diminta password MySQL.
</div>

<h3>Install Repository Zabbix</h3>
<pre><code>wget https://repo.zabbix.com/zabbix/7.0/ubuntu/pool/main/z/zabbix-release/zabbix-release_latest_7.0+ubuntu24.04_all.deb
sudo dpkg -i zabbix-release_latest_7.0+ubuntu24.04_all.deb
sudo apt update</code></pre>

<h3>Install Zabbix</h3>
<pre><code>sudo apt install zabbix-server-mysql zabbix-frontend-php zabbix-apache-conf zabbix-agent -y</code></pre>

<h3>Download Schema Manual</h3>
<pre><code>cd ~
wget https://cdn.zabbix.com/zabbix/sources/stable/7.0/zabbix-7.0.0.tar.gz
tar -xzf zabbix-7.0.0.tar.gz
cd zabbix-7.0.0/database/mysql</code></pre>

<h3>Import Database (URUTAN WAJIB)</h3>
<pre><code>mysql -u zabbix -p zabbix &lt; schema.sql
mysql -u zabbix -p zabbix &lt; images.sql
mysql -u zabbix -p zabbix &lt; data.sql</code></pre>

Password:
<pre><code>1</code></pre>

<h3>Konfigurasi Zabbix</h3>
<pre><code>sudo nano /etc/zabbix/zabbix_server.conf</code></pre>

Pastikan:
<pre><code>DBName=zabbix
DBUser=zabbix
DBPassword=1</code></pre>

<h3>Restart Service</h3>
<pre><code>sudo systemctl restart zabbix-server apache2 zabbix-agent
sudo systemctl enable zabbix-server apache2 zabbix-agent</code></pre>

<h3>Akses Web</h3>
<pre><code>http://monitor.lab-smk.xyz/zabbix</code></pre>

Login:
<pre><code>Admin
zabbix</code></pre>

<h2>ðŸŽ‰ SELESAI</h2>
<p>Zabbix Server siap digunakan untuk monitoring.</p>

<footer>
Tutorial Ubuntu Server SMK â€¢ Dibuat untuk pembelajaran kelas TKJ
</footer>

</div>
</body>
</html>
